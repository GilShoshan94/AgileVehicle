#!/bin/bash
echo "
                             ___,,,,,,___                             
                      ._aaw@@@@@@@@@@@@@@@@wws,.                      
                  ._wg@@@@@@@@@@@@@@@@@@@@@@@@@@gw,.                  
               .aw@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@gc.               
             _w@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@w,             
           _m@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@g,           
         _y@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@g,         
        j@@@@@@@@@@@@@@@@@P   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@a        
      _y@@@@@@@@@@@@@@@@@P    W@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@g.      
     _m@@@@@@@@@@@@@@@@@F     l@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@m,     
    _@@@@@@@@@@@@@@@@@@f      \@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@m,    
   .m@@@@@@@@@@@@@@@@W'        @@@@^^^^^@@@@@@@@@@@@@@@P^^^^^@@@@m    
   j@@@@@@@@@@@@@@@@@'   .m    |@@@     @@@@@@@@@@@@@@P     /@@@@@L   
  _@@@@@@@@@@@@@@@@@_____m@;   \@@@\    \@@@@@@@@@@@@F     /@@@@@@@.  
  j@@@@@@@@@@@@@@@@*****@@@@    @@@|    .@@@@@@@@@@@F     /@@@@@@@@[  
  m@@@@@@@@@@@@@@@@@@@@/@@@k    @@@@     W@@@@@@@@@P     /@@@@@@@@@k  
 .@@@@@@@@@@@@@@@____/W@@@@@    \@@@     W@@@@@@@@______/@@@@@@@@@@W  
 .@@@@@@@@@@@@@*****@@@@@@@@.    @@@     V@@@@@@@******@@@@@@@@@@@@W  
  @@@@@@@@@@@W*    sWW@@@@@@\    @@@\    i@@@@@@@@@@@@@@@@@@@@@@@@@#  
  @@@@@@@@@@P     jW@@@@@@@@m    \@@j    ;@@@@W______@@@@@@@@@@@@@@E  
  ]@@@@@@@@f     j@@@@@@@@@@@i    V@@L    @@@@*****@@@@@@@@@@@@@@@@[  
  *@@@@@@@/    .y@@@@@@@@@@@@k    l@@m    l@P    /m@@@@@@@@@@@@@@@@*  
   ]@@@@@'    .m@@@@@@@@@@@@@m    \@@@    iW    /@@@@@@@@@@@@@@@@@[   
    @@@@______@@@@@@@@@@@@@@@@_____@@@k   *    /@@@@@@@@@@@@@@@@@E    
    *@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@       j@@@@@@@@@@@@@@@@@@*    
     *@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.     j@@@@@@@@@@@@@@@@@@*     
      *4@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@k   .m@@@@@@@@@@@@@@@@@P       
        ?@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@___m@@@@@@@@@@@@@@@@W!        
         -9@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@P'         
           *9@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@P'           
             -9@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@?'             
                *9W@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@T*                
                   *?9@@@@@@@@@@@@@@@@@@@@@@@@@@V?^                   
                       '*?9W@@@@@@@@@@@@@@WT?*'                       
                              **********                              
               ___   _____   _   _       _____   _     _  
              /   | /  ___| | | | |     | ____| | |   / / 
             / /| | | |     | | | |     | |__   | |  / /  
            / / | | | |  _  | | | |     |  __|  | | / /   
           / /  | | | |_| | | | | |___  | |___  | |/ /    
          /_/   |_| \_____/ |_| |_____| |_____| |___/     

"

for arg in "$@"
do
    case "$arg" in
    "-load_g29")
        echo "------------- INITIALIZING STEERING WHEEL -------------"
        #initialize Logitech drivers
        cd ./LogitechFFDrivers
        sudo make load_g29
        read -p "Please reset the steering wheel (unplug/plug), then press any key to continue..."
        cd ..
        ;;
    esac
done

echo "-------------- CUSTOMIZING SYSTEM SETUP ---------------"
cd ./ROS
source ./devel/setup.bash
cd ./src/agile_v_core
#modify old launch files based on input of USB port names if necessary.

#launch tht nodes
echo "------------------ LAUNCHING NODES --------------------"
if ls /dev/ttyUSB* &> /dev/null || ls /dev/ttyACM* &> /dev/null ; then
    roslaunch ./AgileVehicle.launch
else
    roslaunch ./AgileVehicle-simulator.launch
fi

